server {
  listen      80;
  listen      [::]:80;
  server_name charlestonjs.com www.charlestonjs.com;
  root        /var/www/html/charlestonjs/public;
  index       index.html;

  # serve site
  location / {
    try_files           $uri $uri/ =404;
    include             /etc/nginx/proxy_params;
    proxy_set_header    X-Nginx-Proxy true;
    proxy_http_version  1.1;
    proxy_pass          http://localhost:3000;
  }

  # serve assets
  location ~ /public/(stylesheets|images|fonts|javascripts)/(.*)/ {
    expires     -1;
    add_header  Cache-Control private;
  }
}
