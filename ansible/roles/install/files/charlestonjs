server {
  listen      80;
  server_name charlestonjs.com www.charlestonjs.com;

  # serve site
  location / {
    root      /var/www/html/charlestonjs/client
    index     index.html;
    try_files $uri$args $uri$args/ /index.html;
  }

  # serve assets
  location ~ /(styles|images|fonts)/(.*)/ {
    expires max;
  }

  # serve api
  location ~ /api/v1/(.*) {
    root /var/www/html/charlestonjs/api
    include /etc/nginx/proxy_params;
    proxy_set_header    X-Nginx-Proxy true;
    proxy_http_version  1.1;
    proxy_pass          http://localhost:8888;
  }
}
