server {
  listen      80;
  server_name charlestonjs.com www.charlestonjs.com;
  root        /var/www/html/charlestonjs/site;

  # serve site
  location / {
    root      /client
    index     index.html;
    try_files $uri$args $uri$args/ /index.html;
  }

  # serve assets
  location ~ /(styles|images|fonts)/(.*)/ {
    expires max;
  }

  # serve api
  location ~ /api/v1/(.*) {
    include /etc/nginx/proxy_params;
    proxy_set_header    X-Nginx-Proxy true;
    proxy_http_version  1.1;
    proxy_pass          localhost;
  }
}
